FQDNLookup true
Interval 10
Timeout 2
ReadThreads 5
#
PIDFile "${buildout:directory}/var/collectd.pid"
LoadPlugin logfile

<Plugin logfile>
	LogLevel "debug"
	File STDOUT
	Timestamp true
	PrintSeverity false
</Plugin>

LoadPlugin network
<LoadPlugin perl>
	Globals true
</LoadPlugin>
LoadPlugin match_regex
LoadPlugin target_set

LoadPlugin rrdtool
LoadPlugin write_mongodb

<Plugin rrdtool>
        DataDir "${buildout:directory}/var/rrd"
        RandomTimeout 3
</Plugin>

<Plugin network>
	# client setup:
	<Listen "88.198.158.14" "25826">
		SecurityLevel Encrypt
		AuthFile "${buildout:directory}/conf/collectd.passwd"
		Interface "eth0"
	</Listen>
	MaxPacketSize 1024
	ReportStats true
	CacheFlush 1800
</Plugin>

<Plugin "perl">
  BaseName "Collectd::Plugins"
  LoadPlugin "Graphite"

    <Plugin "Graphite">
      Buffer "256000"
      Prefix "servers"
      Host   "monit.mist.io"
      Port   "2003"
    </Plugin>
</Plugin>

<Plugin "perl">
  BaseName "Collectd::Plugins"
  LoadPlugin "Graphite"

    <Plugin "Graphite">
      Buffer "256000"
      Prefix "servers"
      Host   "experiment.unweb.me"
      Port   "2003"
    </Plugin>
</Plugin>


<Plugin write_mongodb>
	<Node "local">
		Host "127.0.0.1"
		Port "27017"
		Timeout 1000
		StoreRates false
	</Node>
</Plugin>

Include "collectd.conf.local"

